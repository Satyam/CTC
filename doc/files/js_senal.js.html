<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>js/senal.js - ctc</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="ctc" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>

                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>

                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/ConfigCelda.html">ConfigCelda</a></li>
                                <li><a href="../classes/ConfigEnclavamiento.html">ConfigEnclavamiento</a></li>
                                <li><a href="../classes/ConfigLuz.html">ConfigLuz</a></li>
                                <li><a href="../classes/ConfigSector.html">ConfigSector</a></li>
                                <li><a href="../classes/ConfigSenal.html">ConfigSenal</a></li>
                                <li><a href="../classes/Enclavamiento.html">Enclavamiento</a></li>
                                <li><a href="../classes/Enclavamiento.Apareados.html">Enclavamiento.Apareados</a></li>
                                <li><a href="../classes/Enclavamiento.SenalCambio.html">Enclavamiento.SenalCambio</a></li>
                                <li><a href="../classes/Enclavamiento.SenalTriple.html">Enclavamiento.SenalTriple</a></li>
                                <li><a href="../classes/EnclavamientoFactory.html">EnclavamientoFactory</a></li>
                                <li><a href="../classes/EventEmitter.html">EventEmitter</a></li>
                                <li><a href="../classes/http.html">http</a></li>
                                <li><a href="../classes/Parcel.html">Parcel</a></li>
                                <li><a href="../classes/ParcelEv.html">ParcelEv</a></li>
                                <li><a href="../classes/Radio.html">Radio</a></li>
                                <li><a href="../classes/Sector.html">Sector</a></li>
                                <li><a href="../classes/Senal.html">Senal</a></li>
                                <li><a href="../classes/TabView.html">TabView</a></li>
                                <li><a href="../classes/vDOM.html">vDOM</a></li>
                                <li><a href="../classes/vNode.html">vNode</a></li>
                            </ul>

                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/Browserify.html">Browserify</a></li>
                                <li><a href="../modules/Components.html">Components</a></li>
                                <li><a href="../modules/configCelda.html">configCelda</a></li>
                                <li><a href="../modules/configEnclavamiento.html">configEnclavamiento</a></li>
                                <li><a href="../modules/configSector.html">configSector</a></li>
                                <li><a href="../modules/configSenal.html">configSenal</a></li>
                                <li><a href="../modules/CTC.html">CTC</a></li>
                                <li><a href="../modules/enclavamientos.html">enclavamientos</a></li>
                                <li><a href="../modules/Events.html">Events</a></li>
                                <li><a href="../modules/http.html">http</a></li>
                                <li><a href="../modules/parcel.html">parcel</a></li>
                                <li><a href="../modules/Parcela.html">Parcela</a></li>
                                <li><a href="../modules/parcelEv.html">parcelEv</a></li>
                                <li><a href="../modules/radio.html">radio</a></li>
                                <li><a href="../modules/sector.html">sector</a></li>
                                <li><a href="../modules/senal.html">senal</a></li>
                                <li><a href="../modules/TabView.html">TabView</a></li>
                                <li><a href="../modules/utilities.html">utilities</a></li>
                                <li><a href="../modules/virtual-DOM.html">virtual-DOM</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>

                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>

                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>

                </div>

            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: js/senal.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/* jshint node:true , esnext:true*/

&quot;use strict&quot;;
import Parcel from &#x27;./component/parcel.js&#x27;;
var _ = require(&#x27;lodash&#x27;);
import {ANCHO_CELDA, CENTRO_CELDA, ANG} from &#x27;./common.js&#x27;;

/**
Maneja el mostrado de las señales en una celda

@module CTC
@submodule senal
*/
/**
Maneja el mostrado de las señales en una celda

@class Senal
@extends Parcel
@constructor
@param config {ConfigSenal} Configuración de la esta señal
*/
export default class Senal extends Parcel {
	constructor (config) {
		super();
		this.containerType = &#x27;g&#x27;;
		this.className = &#x27;senal&#x27;;
		_.merge(this, config);
	}
	/**
	Determina la dirección del ramal a la que está asociada la señal.
	Puede ser uno de &#x60;N&#x60;, &#x60;NE&#x60;, &#x60;E&#x60;, &#x60;SE&#x60;, &#x60;S&#x60;, &#x60;SW&#x60;, &#x60;W&#x60;, &#x60;NW&#x60;

	@property dir {String}
	*/
	set dir (value) {
		this._dir = value;
		this.attributes = {
			transform: &#x60;rotate(${ANG[value]}, ${CENTRO_CELDA}, ${CENTRO_CELDA})&#x60;
		};
	}
	get dir () {
		return this._dir;
	}
/*

		&lt;g style=&quot;stroke-width:2&quot; transform=&quot;rotate(225,50,50)&quot;&gt;
			&lt;line x1=&quot;97&quot; y1=&quot;38&quot; x2=&quot;83&quot; y2=&quot;38&quot; /&gt;
			&lt;line x1=&quot;97&quot; y1=&quot;33&quot; x2=&quot;97&quot; y2=&quot;43&quot; /&gt;
			&lt;circle cx=&quot;87&quot; cy=&quot;38&quot; r=&quot;5&quot; fill=&quot;green&quot;/&gt;
			&lt;!--circle cx=&quot;87&quot; cy=&quot;33&quot; r=&quot;5&quot; fill=&quot;yellow&quot;/&gt; der
			&lt;circle cx=&quot;87&quot; cy=&quot;43&quot; r=&quot;5&quot; fill=&quot;red&quot;/--&gt;
		&lt;/g&gt;

		*/

	view (v) {
		var r = 5,
			y = 38,
			xTope = 95,
			x1 = xTope - 2 * r,
			x2 = x1 -2* r + 2,
			s = [
				v(&#x27;line&#x27;, { x1:xTope, y1:y, x2:x2 + r,  y2:y}),
				v(&#x27;line&#x27;, { x1:xTope, y1:y-r, x2:xTope,  y2:y+r})
			];
		if (this.izq || this.der) {
			s.push(v(&#x27;circle.primaria&#x27;, { cx:x2,  cy:y, r:r, className:this.primaria.estado}));
			if (this.izq) {
				s.push(v(&#x27;circle.izq&#x27;, { cx:x1,  cy:y+r, r:r, className:this.izq.estado}));
			}
			if (this.der) {
				s.push(v(&#x27;circle.der&#x27;, { cx:x1,  cy:y-r, r:r, className:this.der.estado}));
			}
		} else {
			s.push(v(&#x27;circle.primaria&#x27;, { cx:x1,  cy:y, r:r, className:this.primaria.estado}));
		}
		return s;
	}

	toJSON() {
		return {
			primaria:this.primaria,
			izq: this.izq,
			der: this.der
		};
	}
}

/**
Describe las señales existentes en una celda.

@module CTC
@submodule configSenal
*/

/**
Describe una señal.
Cada señal puede tener hasta 3 luces, una principal y una a cada lado.
Cada luz puede estar en varios estados (ver [estado](#property_estado)), que determinan su color.
Por razones de espacio, aún cuando la señal real pudiera tener múltiples focos,
uno de cada color, de las cuales una sóla está encendida en cada momento,
en el mímico, se muestra como un único círculo que cambia de color.

@class ConfigSenal
@static
*/

/**
Contiene información de la luz primaria de la señal.

@property primaria {ConfigLuz}
*/
/**
Contiene información de la luz secundaria que se muestra abajo a la derecha de la señal primaria.

@property der {ConfigLuz}
*/
/**
Contiene información de la luz secundaria que se muestra abajo a la izquierda de la señal primaria.

@property izq {ConfigLuz}
*/
/**
Contiene la definición de una luz dentro de una señal.

@class ConfigLuz
*/
/**
Indica el estado de la señal.

Puede ser &#x60;verde&#x60;, &#x60;precaucion&#x60; o &#x60;alto&#x60;.
@property estado {String}
*/

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
